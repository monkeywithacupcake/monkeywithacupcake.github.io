---
layout: post
title:  "Round 2 Day 53 of 100 Days of Code"
categories: 100DaysofCode
---

I have been very, super, a lot bad about posting my progress here. A quick update.

## Today's Progress
+ Only working on Travel Together today. I have so many things that I want to do with Crushing It, Challenge A Study, and MyHats...but I really want to finish Travel Together as well - less than a week until I turn into a pumpkin for the year. The pressure.is.on.

+ I found the local realm file for reference - very helpful. Also, very easy to get, just put `print(Realm.Configuration.defaultConfiguration.fileURL!)` in the Root View Controller.

+ I finished switching classes over to work with Realm - the change seems simple until you start thinking about all of the modeled relationships and enums and other stuff that actually goes into a class. For example, my place class, which is only to store locations for activities had to completely change inits because Realm will not store a CLCoordinate2D.

With Realm

{% highlight swift %}
import Foundation
import MapKit
import RealmSwift

class Place: Object{

    // MARK: Properties
    @objc dynamic var name: String = "Place"
    @objc dynamic var latitude: Double = 0.0
    @objc dynamic var longitude: Double = 0.0
    //@objc dynamic var geoCoordinate: CLLocationCoordinate2D?
    @objc dynamic var text: String? = ""
    @objc dynamic var postalAddress: PostalAddress?
    
    // MARK: Inits

    // Everything
    convenience init(name: String, lat: Double, lon: Double, text: String, postalAddress: PostalAddress){
        self.init()
        self.name = name
        self.latitude = lat
        self.longitude = lon
        self.text = text
        self.postalAddress = postalAddress
    }

    // No Coord
    convenience init(fromAddress address: PostalAddress) {
        self.init()
        let addressString =
        "\(address.streetAddress) \(address.addressLocality) \(address.addressRegion) \(address.postalCode) \(address.addressCountry)"
        self.postalAddress = address
        self.text = addressString
    }
    // Only Name
    convenience init(fromName name: String) {
        self.init()
        self.name = name
    }
    
    // MARK: Methods
    // ...
}
{% endhighlight %}

Without Realm - for when I was working with Firebase and JSON

{% highlight swift %}
import Foundation
import MapKit

class Place: NSObject{

    // MARK: Properties
    var name: String?
    var geoCoordinate: CLLocationCoordinate2D?
    var text: String? = ""
    var postalAddress: PostalAddress?

    // MARK: Inits
    // Everything
    init(name: String, geoCoordinate: CLLocationCoordinate2D, text: String, postalAddress: PostalAddress){
        self.name = name
        self.geoCoordinate = geoCoordinate
        self.text = text
        self.postalAddress = postalAddress
    }

    // No Coord
    init(fromAddress address: PostalAddress) {
        let addressString =
        "\(address.streetAddress ?? "") \(address.addressLocality ?? "") \(address.addressRegion ?? "") \(address.postalCode ?? "") \(address.addressCountry ?? "")"
        self.postalAddress = address
        self.text = addressString
    }

    // Only Coord
    init(fromLatLon lat: Double, lon: Double) {
        self.geoCoordinate = CLLocationCoordinate2D(latitude: lat, longitude: lon)
    }

    // Only Name
    init(fromName name: String) {
        self.name = name
    }
    
    convenience override init() {
        self.init(name: "",
                  geoCoordinate: CLLocationCoordinate2D(latitude: 0.0, longitude: 0.0),
                  text: "Location Unknown",
                  postalAddress: PostalAddress())
    }
    
    // MARK: Methods
    // ...
}
{% endhighlight %}

## Thoughts  
**The only way to do it is to do it** I wasted time earlier this week trying to figure out a way to hookup a worthwhile data platform for local storage for offline first design without having to make a ton of changes in the data structure (again). However, I found that nothing besides creating a local JSON file or plist would really work that way, and that approach is not extendable later. Having to just go through the effort of reconstructing the data again was very frustrating, but it has to be done for better performance. I'm glad that I rewrote most of the classes yesterday and was able to get many of the cascading errors squashed today. I won't have much time tomorrow, but I hope to get a few functions working again with sample data. 

## Link to work
Not today.